<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: app.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: app.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React from "react";
import { BrowserRouter, Route, Switch } from "react-router-dom";
import superagent from "superagent";
import Header from "./header/header";
import Form from "./form/form";
import Results from "./results/results.js";
import History from "./history/history.js";
import Footer from "./footer/footer.js";
import BasicAuth from "./authorization/basic/basicAuth.js";
import BearerAuth from "./authorization/bearer/bearer.js";

import "./app/app.scss";

/**
 * @class App
 * @description Holds state properties. Renders all elements being imported.
 */
class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      url: "",
      method: "",
      requestbody: "",
      header: {},
      response: {},
      isTextboxDisable: false
    };
  }
  /**
   * @function handleMethods
   * @param  {} event
   * @description event listener that handles the methods selected from the form.
   */
  handleMethods = e => {
    let property = e.target.name;
    let value = e.target.value;
    if (value === "GET" || value === "DELETE") {
      this.setState({ isTextboxDisable: true });
    } else {
      this.setState({ isTextboxDisable: false });
    }
    this.setState({ [property]: value });
  };

  /**
   * @function callApi
   * @param {object} event
   * @description Makes a call to the specific url that was passed in, and parses the response and header object.
   */
  callApi = e => {
    e.preventDefault();
    let body = this.state.requestbody &amp;&amp; JSON.parse(this.state.requestbody);
    superagent(this.state.method, this.state.url)
      .set("Content-Type", "application/json")
      .send(body)
      .then(res => {
        let header = res.header;
        let response = res.body;
        this.setState({ header, response });
      });
  };
  /**
   * @function saveHistory
   * @param  {object} obj
   * @description Function for saving the recent url search history
   */
  saveHistory = obj => {
    this.setState((prevState, props) => {
      return { history: prevState.history.concat(obj) };
    });
  };

  saveHistory;
  render() {
    return (
      &lt;BrowserRouter>
        &lt;Header />
        &lt;Switch>
          &lt;Route exact path="/" />

          &lt;Route exact path="/history">
            &lt;History history={this.state.history} callApi={this.callApi} />
          &lt;/Route>
        &lt;/Switch>
        &lt;Form
          callApi={this.callApi}
          handleMethods={this.handleMethods}
          method={this.state.method}
        />
        &lt;Results header={this.header} response={this.response} />
        &lt;BasicAuth username={this.name} password={this.password} />
        &lt;BearerAuth bearer={this.bearer} />
        &lt;Footer />
      &lt;/BrowserRouter>
    );
  }
}

export default App;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="App.html">App</a></li><li><a href="Footer.html">Footer</a></li><li><a href="Header.html">Header</a></li><li><a href="History.html">History</a></li></ul><h3>Global</h3><ul><li><a href="global.html#callApi">callApi</a></li><li><a href="global.html#handleMethods">handleMethods</a></li><li><a href="global.html#Results">Results</a></li><li><a href="global.html#saveHistory">saveHistory</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Sun Feb 23 2020 21:24:11 GMT-0800 (Pacific Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
